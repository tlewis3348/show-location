<?xml version="1.0" encoding="UTF-8"?>
<Module>

  <ModulePrefs
        title="map-gadget"
        height="700"
        scaling="false" />
  <Require feature="dynamic-height"/>
  <UserPref name="_table_query_url"
        display_name="Data source url"
        required="true"/>
  
  <UserPref name="_table_query_refresh_interval"
        display_name="Data refresh interval (minutes)"
    default_value="0"
        datatype="enum"
        required="false">
    <EnumValue value="0"
          display_value="Do not refresh"/>
    <EnumValue value="60"
          display_value="1"/>
    <EnumValue value="300"
          display_value="5"/>
    <EnumValue value="1800"
          display_value="30"/>
  </UserPref>

  <Content type="html">
  <![CDATA[
    <html>
      <head>
        <script type="text/javascript" src="https://www.google.com/jsapi"></script>
        <script type="text/javascript">
          google.load("visualization", "1", {packages:["map"]});
          google.setOnLoadCallback(drawChart);
          function drawChart() {
            var data = google.visualization.arrayToDataTable([
              ['Lat', 'Long', 'Name'],
              [37.4232, -122.0853, 'Work'],
              [37.4289, -122.1697, 'University'],
              [37.6153, -122.3900, 'Airport'],
              [37.4422, -122.1731, 'Shopping']
            ]);
    
            var options = {
              icons: {
                default: {
                  normal: 'http://icons.iconarchive.com/icons/icons-land/vista-map-markers/48/Map-Marker-Ball-Azure-icon.png',
                  selected: 'http://icons.iconarchive.com/icons/icons-land/vista-map-markers/48/Map-Marker-Ball-Right-Azure-icon.png'
                }
              }
            };
    
            var map = new google.visualization.Map(document.getElementById('map_markers_div'));
            map.draw(data, {showTip: true});
          }
    
        </script>
      </head>
    
      <body>
        <div id="map_markers_div" style="width: 400px; height: 300px"></div>
      </body>
    </html>
  ]]>
  </Content>
</Module>